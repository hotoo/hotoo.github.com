<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="generator" content="gvim" />
<meta name="author" content="闲耘™ (hotoo.cn[AT]gmail.com)" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<title>Form-search</title>
<style type="text/css" media="screen">
    .toolbar{width:600px;}
    .page{text-align:right;}
    .page form{display:inline;}
    #datagrid{width:600px; border-collapse:collapse;}
    #datagrid th, #datagrid td{padding:5px; border:1px solid #ccc;}
    #datagrid th{background:#eee;}
    a{color:blue;}
    a.disabled{color:#ccc; text-decoration:none; cursor:default;}
</style>
</head>
<body>

    <form action="form-search.html" method="get" id="f0">
        <input type="text" name="k" value="">
        <input type="submit" value="搜索">
    </form>

    <table class="toolbar">
    <tbody>
        <tr>
            <td><a href="#new.html">新增</a></td>
            <td class="page">
                <span><cite id="curr0">1</cite>/<strong id="max0">5</strong></span>
                <a href="form-search.html" id="prev0">上一页</a>
                <a href="form-search.html" id="next0">下一页</a>
                <form action="form-search.html" method="get" id="fp0">
                    <input type="hidden" name="k" value="">
                    <input type="number" name="p" value="2" size="3">
                    <input type="submit" value="翻页">
                </form>
            </td>
        </tr>
    </tbody>
    </table>
    <table id="datagrid">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Blog</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>0</td>
            <td>hotoo</td>
            <td>http://hotoo.github.com/</td>
        </tr>
    </tbody>
    </table>
    <table class="toolbar">
    <tbody>
        <tr>
            <td></td>
            <td class="page">
                <span><cite id="curr1">1</cite>/<strong id="max1">5</strong></span>
                <a href="form-search.html" id="prev1">上一页</a>
                <a href="form-search.html" id="next1">下一页</a>
                <form action="form-search.html" method="get" id="fp1">
                    <input type="hidden" name="k" value="">
                    <input type="number" name="p" value="2" size="3">
                    <input type="submit" value="翻页">
                </form>
            </td>
        </tr>
    </tbody>
    </table>

    <form action="form-search.html" method="get" id="f1">
        <input type="text" name="k" value="">
        <input type="submit" value="搜索">
    </form>

    <script type="text/javascript">/*<![CDATA[*/
        function $(id){return document.getElementById(id);}
        var MAX = 5, action="form-search.html";
        window.onload = function(){
            var p = location.search.match(/(?:^|\?|&)p=([^&]*)(?:&|$)/);
            p = p&&p[1]?parseInt(p[1]):1;
            var k = location.search.match(/(?:^|\?|&)k=([^&]*)(?:&|$)/);
            k = k&&k[1]?k[1]:"";

            if(p<=1){
                $("prev0").href=
                $("prev1").href="javascript:void(0);";
                $("prev0").className=
                $("prev1").className="disabled";
                $("next0").href=
                $("next1").href=action+"?k="+k+"&p="+(p+1);
                $("fp0")["p"].value=
                $("fp1")["p"].value=p;
            }else if(p>=MAX){
                $("prev0").href=
                $("prev1").href=action+"?k="+k+"&p="+(p-1);
                $("next0").href=
                $("next1").href="javascript:void(0);";
                $("next0").className=
                $("next1").className="disabled";
                $("fp0")["p"].value=
                $("fp1")["p"].value="";
            }else{
                $("prev0").href=
                $("prev1").href=action+"?k="+k+"&p="+(p-1);
                $("next0").href=
                $("next1").href=action+"?k="+k+"&p="+(p+1);
                $("fp0")["p"].value=
                $("fp1")["p"].value=p;
            }
            $("f0")["k"].value=
            $("f1")["k"].value=
            $("fp0")["k"].value=
            $("fp1")["k"].value=k;
            $("curr0").innerHTML =
            $("curr1").innerHTML = p;
            $("max0").innerHTML =
            $("max1").innerHTML = MAX;

            $("f0").onsubmit =
            $("f1").onsubmit = function(){
                return !!this["k"].value.replace(/^\s+/,"").replace(/\s+$/,"");
            };
        };
    /*]]>*/</script>
</body>
</html>
