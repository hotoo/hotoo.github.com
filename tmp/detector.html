<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="generator" content="gvim" />
<meta name="author" content="闲耘™ (hotoo.cn[AT]gmail.com)" />
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<title>Detector</title>
</head>
<body>
  <div id="detector"></div>
	<script type="text/javascript">/*<![CDATA[*/
    function isObject(obj){
      return Object.prototype.toString.call(obj) === "[object Object]";
    }
    function expandObject(obj){
      if(!isObject(obj)){return obj;}
      var s = '{';
      for(var k in obj){
        if(obj.hasOwnProperty(k)){
          s += k + ':' + typeof obj[k] + ',';
        }
      }
      s += '}';
      return s;
    }
  window.onload = function(){
    console.log(0);
    var info = {
      ua : navigator.userAgent,
      vendor : navigator.vendor,
      vendorSub : navigator.vendorSub,
      platform : navigator.platform
    };
    console.log(1);

    var a = [
      "| 字段 | 值 |",
      "|------|----|"
    ];
    for(var k in info){
      console.log(10, k, info[k]);
      if(!info.hasOwnProperty(k)){continue;}
      console.log(11, k, info[k]);
      a.push("| "+k+" | "+info[k]+" |");
    }
    console.log(2);

    document.getElementById("detector").innerHTML = a.join("<br />");
    console.log(3);

    var img = new Image();
    img.onload = img.onerror = img.onabort = function(){
      img.onload = img.onerror = img.onabort = null;
      img = null;
    };
    img.src = "https://kcart.alipay.com/web/bi.do"+
      "?ref=http%3A%2F%2Fhotoo.me%2Ftmp%2Fdetector.html"+
      "&pg=http%3A%2F%2Fhotoo.me%2Ftmp%2Fdetector.html%3Fseed%3D"+encodeURIComponent(a.join(""))+
      "&r="+Math.random()+
      "&v=1.0"+
      "&BIProfile=clk";
    console.log(4);
  };

	/*]]>*/</script>
</body>
</html>
